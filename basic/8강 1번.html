<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8강 1번 문제</title>
</head>
<body>
    <script>
        /*
        1) 달팽이 배열
        사용자로부터 양의 정수 N을 입력받아서, NxN 크기의 정사각형 모양 2차원배열을 만드는데, 그 내용을 다음과 같이 채우세요
        [1] [2] [3]
        [8] [9] [4]
        [7] [6] [5]
        */
        let userNum, arr=[];
        while(1){
            userNum = parseInt(prompt('양의 정수를 입력해 주세요'));
            if(isNaN(userNum) || (userNum < 1)){
                console.log('양의 정수를 다시 입력해 주세요');
                continue;
            }
            break;
        }
        for(let i=1; i<=userNum; i+=1){
            let conArr=[];
            for(let x=1; x<=userNum; x+=1){
                conArr.push(0)
            }
            arr.push(conArr);
        }
        let dir ='right';
        let currPos = {y:0,x:0};
        let x = currPos.x;
        let y = currPos.y;

        for(let w=1; w<=userNum*userNum; w+=1){   
            if(dir === 'right'){
                if(arr[y][x] === 0){
                    arr[y][x] = w;
                    x+=1;
                    if(arr[y][x] !== 0){
                        x-=1;
                        y+=1;
                        dir='down';  
                    }
                }
            }else if(dir === 'down'){
                if(arr[y][x] === 0){
                    arr[y][x]=w;
                    y+=1;
                    // y는 인덱스의 숫자보다 큰숫자가 되면 arr[y][x] !== 0 에 적용되지 못하고 오류가난다.
                    // 첫바퀴에서 참이될 조건과 그다음 텀부터 적용할 조건
                    if(y===userNum || arr[y][x] !== 0){
                        y-=1;
                        x-=1;
                        dir='left';
                    }
                }
            }else if(dir === 'left'){
                if(arr[y][x] === 0){
                    arr[y][x]=w;
                    x-=1;
                    if(arr[y][x] !== 0){
                        x+=1;
                        y-=1;
                        dir='top';
                    }
                }
            }else if(dir === 'top'){
                
                if(arr[y][x] === 0){
                    arr[y][x]=w;
                    y-=1;
                    if(arr[y][x] !== 0){
                        y+=1;
                        x+=1;
                        dir='right';
                    }       
                }
            } 
        }
        console.log(arr);
        
    </script>
</body>
</html>